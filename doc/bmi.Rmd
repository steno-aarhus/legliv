---
title: "bmi"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Checking cohort BMI:

```{r}
data %>% 
  ggplot(aes(x = bmi)) +
  geom_histogram(na.rm = T)
```


```{r}
data %>% 
    ggplot(aes(sample = bmi)) + 
    stat_qq(na.rm = T) +
    stat_qq_line(na.rm = T)
```
smiling qq-plot. Data are not normally distributed. Trying log-transformation:

```{r}
data <- data %>% 
    mutate(logbmi = log(bmi))
```

```{r}
data %>% 
  ggplot(aes(x = bmi)) +
  geom_histogram(na.rm = T)
```


```{r}
data %>% 
    ggplot(aes(sample = logbmi)) +
    stat_qq(na.rm = T) +
    stat_qq_line(na.rm = T)
```
Looks normally distributed. Backtransforming to get mean:

```{r}
data %$% 
    exp(smean.cl.normal(logbmi))
```

```{r}
data %$% 
    exp(smean.sdl(logbmi, mult = 1.96))
```

```{r}
data_liver <- data_liver %>% 
    mutate(logbmi = log(bmi))
```

Checking within liver cancer cases:

```{r}
data_liver %>% 
  ggplot(aes(x = bmi)) +
  geom_histogram(bins = 15)
```


```{r}
data_liver %>% 
    ggplot(aes(sample = bmi)) +
    stat_qq() +
    stat_qq_line()
```

```{r}
data_liver %>% 
  ggplot(aes(x = logbmi)) +
  geom_histogram(bins = 15)
```


```{r}
data_liver %>% 
    ggplot(aes(sample = logbmi)) +
    stat_qq() +
    stat_qq_line()
```

```{r}
data_liver %$% 
    exp(smean.cl.normal(logbmi))
```

